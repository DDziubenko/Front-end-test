<template>
  <section class="bg-[#FFFFF0] px-4 py-16 1.5xl:px-11 1.5xl:py-[100px]">
    <div class="max-w-[1352px] mx-auto">
      <!-- Mobile Layout -->
      <div class="1.5xl:hidden flex flex-col gap-8">
        <h2
          class="font-taykari text-[36px] font-normal leading-[1.1] text-[#333]"
        >
          Bonny Moon
        </h2>

        <div class="flex flex-col gap-8">
          <!-- Large image -->
          <div class="w-full h-[305px] overflow-hidden bg-[#e5e5d8]">
            <img
              src="/assets/images/gallery/5c913c91adf8d0089e50c2693f3ad7ef42d5bcc9.jpg"
              alt="Bonny Moon"
              class="w-full h-full object-cover"
            />
          </div>

          <!-- Description text -->
          <p
            class="font-['Ostrich_Sans'] text-[32px] font-black leading-[1.1] text-[#333]"
          >
            Welcome to Bonny Moon, a place where you arrive as you are. We are a
            nostalgic community, where lifelong friendships are made and
            strangers unite over shared passions.
          </p>

          <!-- Button -->
          <a
            href="#"
            class="mx-auto gallery-button-mobile w-full max-w-[343px]"
          >
            <svg
              width="347"
              height="58"
              viewBox="0 0 347 58"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="w-full h-auto"
            >
              <path
                d="M147.058 34.878C146.375 34.878 145.773 34.718 145.25 34.398C144.727 34.0673 144.322 33.6087 144.034 33.022C143.746 32.4247 143.602 31.742 143.602 30.974H145.442C145.442 31.6567 145.591 32.206 145.89 32.622C146.189 33.0273 146.578 33.23 147.058 33.23H148.338C148.829 33.23 149.218 33.0167 149.506 32.59C149.805 32.1527 149.954 31.5713 149.954 30.846V23.55H151.826V30.91C151.826 31.71 151.682 32.4087 151.394 33.006C151.117 33.6033 150.717 34.0673 150.194 34.398C149.682 34.718 149.085 34.878 148.402 34.878H147.058ZM156.749 34.878C155.768 34.878 154.979 34.5953 154.381 34.03C153.784 33.454 153.485 32.6967 153.485 31.758V29.774C153.485 29.1553 153.619 28.6113 153.885 28.142C154.163 27.662 154.547 27.294 155.037 27.038C155.539 26.7713 156.115 26.638 156.765 26.638H158.173C158.824 26.638 159.395 26.7713 159.885 27.038C160.387 27.294 160.771 27.662 161.037 28.142C161.315 28.6113 161.453 29.1553 161.453 29.774V31.758C161.453 32.6967 161.149 33.454 160.541 34.03C159.944 34.5953 159.144 34.878 158.141 34.878H156.749ZM158.125 33.294C158.573 33.294 158.931 33.1447 159.197 32.846C159.475 32.5367 159.613 32.1367 159.613 31.646V29.87C159.613 29.3793 159.48 28.9847 159.213 28.686C158.947 28.3767 158.589 28.222 158.141 28.222H156.797C156.349 28.222 155.992 28.3767 155.725 28.686C155.459 28.9847 155.325 29.3793 155.325 29.87V31.646C155.325 32.1367 155.459 32.5367 155.725 32.846C155.992 33.1447 156.339 33.294 156.765 33.294H158.125ZM164.38 25.87C164.018 25.87 163.724 25.7633 163.5 25.55C163.287 25.326 163.18 25.0433 163.18 24.702C163.18 24.3607 163.287 24.0833 163.5 23.87C163.724 23.646 164.018 23.534 164.38 23.534C164.743 23.534 165.036 23.646 165.26 23.87C165.484 24.0833 165.596 24.3607 165.596 24.702C165.596 25.0433 165.484 25.326 165.26 25.55C165.036 25.7633 164.743 25.87 164.38 25.87ZM163.468 26.766H165.308V34.75H163.468V26.766ZM167.649 26.766H169.361V27.806C169.596 27.454 169.905 27.1713 170.289 26.958C170.673 26.7447 171.057 26.638 171.441 26.638H172.433C173.254 26.638 173.91 26.8993 174.401 27.422C174.902 27.9447 175.153 28.6327 175.153 29.486V34.75H173.313V29.534C173.313 29.15 173.212 28.8407 173.009 28.606C172.817 28.3607 172.561 28.238 172.241 28.238H171.249C170.833 28.238 170.46 28.398 170.129 28.718C169.798 29.0273 169.585 29.4273 169.489 29.918V34.75H167.649V26.766ZM185.363 34.878C184.616 34.878 183.955 34.718 183.379 34.398C182.803 34.0673 182.355 33.6087 182.035 33.022C181.726 32.4247 181.571 31.7367 181.571 30.958V23.55H183.443V30.926C183.443 31.6193 183.619 32.1793 183.971 32.606C184.323 33.022 184.787 33.23 185.363 33.23H187.075C187.662 33.23 188.131 33.022 188.483 32.606C188.846 32.1793 189.027 31.6193 189.027 30.926V23.55H190.899V30.958C190.899 31.7367 190.739 32.4247 190.419 33.022C190.099 33.6087 189.651 34.0673 189.075 34.398C188.499 34.718 187.832 34.878 187.075 34.878H185.363ZM195.586 34.878C194.669 34.878 193.933 34.6327 193.378 34.142C192.823 33.6513 192.546 33.0007 192.546 32.19H194.354C194.354 32.5313 194.466 32.8087 194.69 33.022C194.914 33.2247 195.213 33.326 195.586 33.326H197.01C197.373 33.326 197.655 33.2673 197.858 33.15C198.071 33.022 198.178 32.8513 198.178 32.638V32.286C198.178 32.1367 198.114 32.0087 197.986 31.902C197.869 31.7953 197.703 31.7207 197.49 31.678L194.722 31.198C194.103 31.0913 193.613 30.8673 193.25 30.526C192.887 30.174 192.706 29.7687 192.706 29.31V28.782C192.706 28.1207 192.967 27.598 193.49 27.214C194.023 26.83 194.754 26.638 195.682 26.638H196.962C197.805 26.638 198.487 26.8673 199.01 27.326C199.533 27.7847 199.794 28.3873 199.794 29.134H197.986C197.986 28.846 197.89 28.6167 197.698 28.446C197.517 28.2753 197.271 28.19 196.962 28.19H195.698C195.325 28.19 195.037 28.2487 194.834 28.366C194.631 28.4833 194.53 28.6487 194.53 28.862V29.182C194.53 29.3313 194.589 29.4593 194.706 29.566C194.834 29.6727 194.999 29.742 195.202 29.774L198.066 30.286C198.653 30.4033 199.122 30.6273 199.474 30.958C199.826 31.2887 200.002 31.678 200.002 32.126V32.718C200.002 33.3793 199.73 33.9073 199.186 34.302C198.642 34.686 197.917 34.878 197.01 34.878H195.586Z"
                fill="currentColor"
                class="button-text"
              />
              <path
                d="M41.5233 8.08408C45.0668 6.96562 50.9779 10.0983 56.75 8.08408C61.25 6.5138 64.0154 4.26299 69.25 4.98129C72.5614 5.43568 76.5009 6.31695 81.2352 4.90057C84.6894 3.86714 90.75 5.73119 97.25 3.45903C101.642 1.92384 106.166 3.02426 112 4.83711C115.453 5.91004 118.789 4.55841 122.058 3.45903C125.016 2.46406 127.925 2.66571 132.75 3.45903C139.25 4.52774 143.84 1.98998 148.25 1.41292C154.25 0.627778 160.25 2.98326 164.75 2.98326H164.752C169.251 2.98326 171.853 2.98326 176.397 1.41292C180.207 0.0962726 186.645 1.08487 188.229 1.45299C190.01 1.86682 192.002 3.03789 194.66 3.4684C200.399 4.39767 205.931 1.18727 209.25 2.59063C215.75 5.33862 223.283 3.43101 227.612 3.31799C230.05 3.25434 236.25 5.60322 242.75 5.7315C248.089 5.83687 254.298 3.59278 258.75 4.16122C264.899 4.94636 266.79 6.73821 273.25 7.30179C277.75 7.69436 280.75 6.44477 284.75 6.12407C294.287 5.35947 294.969 9.66916 302.75 9.65721L303.001 9.65681C307.421 9.64952 309.647 9.64586 312.626 11.0667C315.214 12.3011 316.525 13.6224 321.25 14.3681C324.174 14.8294 330.006 14.3156 332.946 17.7775C336.111 21.5057 338.616 22.997 339.561 23.3698C342.551 24.5493 342.675 25.0913 344.287 26.3524C344.964 26.8825 345.977 29.5279 345.704 31.1991C345.424 32.912 343.204 35.3001 341.451 36.7914C339.311 38.6127 335.308 39.4012 331.528 40.5196C327.726 41.6446 325.527 44.0815 323.022 44.8348C317.352 46.5403 317.763 46.0941 309.25 46.5588C304.325 46.8277 301.266 49.5194 297.75 50.213C293.97 50.9586 289.25 49.1858 281.25 50.8771C274.15 52.3782 271.75 54.1259 260.25 53.2325C256.298 52.9255 246.107 51.8126 243.995 52.5329C240.804 53.6209 238.871 54.4105 232.408 54.5848C227.884 54.7068 219.26 52.8395 214.29 53.7334C208.998 54.6853 207.63 56.3195 199.25 55.5877C195.356 55.2476 188.422 55.351 184.423 56.3728C179.912 57.5254 174.478 55.7613 171.852 54.7577C169.427 53.8311 165.221 54.9039 159.973 55.7786C152.633 57.0021 149.41 54.9832 146.371 54.3814C142.023 53.5207 138.569 55.5895 132.586 56.0334C127.667 56.3984 122.337 53.5686 116.747 53.4017C114.163 53.3246 111.683 54.4766 104.942 54.8503C100.522 55.0954 94.2107 51.2895 86.9876 52.418C76.75 54.0174 71.9784 51.4905 69.5375 50.9365C64.9063 49.8852 60.4228 51.6087 57.75 51.662C54.241 51.732 49.75 50.0917 46.8642 49.4274C45.75 49.1709 41.0216 48.9409 40.107 48.9241C29.7751 48.9241 33.0188 44.2915 24.2714 45.3663C19.3727 45.9682 18.5154 41.0934 14.5882 40.3492C13.1512 40.0769 4.39558 39.6769 3.71974 35.673C2.7758 30.0806 -0.617456 28.6609 1.35703 25.2339C3.71985 21.1329 5.88775 20.5089 12.2268 17.7775C17.3048 15.5894 18.6115 12.1485 25.4581 11.0667C30.0282 10.3445 32.0737 11.0667 41.5233 8.08408Z"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                class="button-wave"
              />
            </svg>
          </a>
        </div>

        <!-- Image grid -->
        <div class="flex flex-col gap-4">
          <!-- Two column row -->
          <div class="flex gap-4">
            <div class="flex-1 flex flex-col gap-4">
              <div class="w-full h-[280px] overflow-hidden bg-[#e5e5d8]">
                <video
                  ref="videoRefMobile"
                  src="/assets/video/Sun Magic.mp4"
                  class="w-full h-full object-cover"
                  loop
                  muted
                  playsinline
                ></video>
              </div>
              <p
                class="font-family-sans text-[13px] font-light italic leading-[1.4] text-[#585858]"
              >
                Timeless souls, one joyful vibe
              </p>
            </div>
            <div class="flex-1">
              <div class="w-full h-[200px] overflow-hidden bg-[#e5e5d8]">
                <img
                  src="/assets/images/gallery/fb678d390795218a561028c160c2e84449954a69.jpg"
                  alt=""
                  class="w-full h-full object-cover"
                />
              </div>
            </div>
          </div>

          <!-- Full width with caption -->
          <div class="flex flex-col gap-4">
            <div class="w-full h-[300px] overflow-hidden bg-[#e5e5d8]">
              <img
                src="/assets/images/gallery/bb9b96180a58bc3c3a39321422de762911cfa957.png"
                alt=""
                class="w-full h-full object-cover"
              />
            </div>
            <p
              class="font-family-sans text-[13px] font-light italic leading-[1.4] text-[#585858]"
            >
              Nostalgia wrapped in sunlight
            </p>
          </div>

          <!-- Last full width image -->
          <div class="w-full h-[393px] overflow-hidden bg-[#e5e5d8]">
            <img
              src="/assets/images/gallery/a928c52b4ce28c0f669d7292137241f4d5a54332.jpg"
              alt=""
              class="w-full h-full object-cover"
            />
          </div>
        </div>
      </div>

      <!-- Desktop Layout -->
      <div class="hidden 1.5xl:flex gap-8 relative min-[2650px]:min-w-[1352px]">
        <!-- Left column -->
        <div class="flex flex-col gap-8 w-[314px] shrink-0 pb-[88px]">
          <div class="flex flex-col gap-4">
            <div class="w-full h-[364px] overflow-hidden bg-[#e5e5d8]">
              <img
                src="/assets/images/gallery/a928c52b4ce28c0f669d7292137241f4d5a54332.jpg"
                alt=""
                class="w-full h-full object-cover"
              />
            </div>
            <p
              class="font-family-sans text-[13px] font-light italic leading-[1.4] text-[#585858] w-[141px]"
            >
              Timeless souls, one joyful vibe
            </p>
          </div>
          <div class="w-[141px] h-[141px] ml-auto overflow-hidden bg-[#e5e5d8]">
            <img
              src="/assets/images/gallery/5c913c91adf8d0089e50c2693f3ad7ef42d5bcc9.jpg"
              alt=""
              class="w-full h-full object-cover"
            />
          </div>
        </div>

        <!-- Middle column -->
        <div class="flex flex-col gap-16 w-[660px]">
          <h2
            class="font-taykari text-[48px] font-normal leading-[1.1] text-[#333]"
          >
            Bonny Moon
          </h2>

          <div class="flex flex-col gap-8 items-end">
            <div class="w-full h-[280px] overflow-hidden bg-[#e5e5d8]">
              <img
                src="/assets/images/gallery/5191ed8202ec4d078e859ea6c83491eb070de929.jpg"
                alt="Bonny Moon"
                class="w-full h-full object-cover"
              />
            </div>

            <p
              class="font-['Ostrich_Sans'] text-[36px] font-black leading-[1.1] text-[#333] w-full"
            >
              Welcome to Bonny Moon, a place where you arrive as you are. We are
              a nostalgic community, where lifelong friendships are made and
              strangers unite over shared passions.
            </p>

            <a href="#" class="gallery-button-desktop w-[141px]">
              <svg
                width="143"
                height="58"
                viewBox="0 0 143 58"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="w-full h-auto"
              >
                <path
                  d="M46.058 34.878C45.3753 34.878 44.7727 34.718 44.25 34.398C43.7273 34.0673 43.322 33.6087 43.034 33.022C42.746 32.4247 42.602 31.742 42.602 30.974H44.442C44.442 31.6567 44.5913 32.206 44.89 32.622C45.1887 33.0273 45.578 33.23 46.058 33.23H47.338C47.8287 33.23 48.218 33.0167 48.506 32.59C48.8047 32.1527 48.954 31.5713 48.954 30.846V23.55H50.826V30.91C50.826 31.71 50.682 32.4087 50.394 33.006C50.1167 33.6033 49.7167 34.0673 49.194 34.398C48.682 34.718 48.0847 34.878 47.402 34.878H46.058ZM55.7493 34.878C54.7679 34.878 53.9786 34.5953 53.3813 34.03C52.7839 33.454 52.4853 32.6967 52.4853 31.758V29.774C52.4853 29.1553 52.6186 28.6113 52.8853 28.142C53.1626 27.662 53.5466 27.294 54.0373 27.038C54.5386 26.7713 55.1146 26.638 55.7653 26.638H57.1733C57.8239 26.638 58.3946 26.7713 58.8853 27.038C59.3866 27.294 59.7706 27.662 60.0373 28.142C60.3146 28.6113 60.4533 29.1553 60.4533 29.774V31.758C60.4533 32.6967 60.1493 33.454 59.5413 34.03C58.9439 34.5953 58.1439 34.878 57.1413 34.878H55.7493ZM57.1253 33.294C57.5733 33.294 57.9306 33.1447 58.1973 32.846C58.4746 32.5367 58.6133 32.1367 58.6133 31.646V29.87C58.6133 29.3793 58.4799 28.9847 58.2133 28.686C57.9466 28.3767 57.5893 28.222 57.1413 28.222H55.7973C55.3493 28.222 54.9919 28.3767 54.7253 28.686C54.4586 28.9847 54.3253 29.3793 54.3253 29.87V31.646C54.3253 32.1367 54.4586 32.5367 54.7253 32.846C54.9919 33.1447 55.3386 33.294 55.7653 33.294H57.1253ZM63.3803 25.87C63.0176 25.87 62.7243 25.7633 62.5003 25.55C62.2869 25.326 62.1803 25.0433 62.1803 24.702C62.1803 24.3607 62.2869 24.0833 62.5003 23.87C62.7243 23.646 63.0176 23.534 63.3803 23.534C63.7429 23.534 64.0363 23.646 64.2603 23.87C64.4843 24.0833 64.5963 24.3607 64.5963 24.702C64.5963 25.0433 64.4843 25.326 64.2603 25.55C64.0363 25.7633 63.7429 25.87 63.3803 25.87ZM62.4683 26.766H64.3083V34.75H62.4683V26.766ZM66.649 26.766H68.361V27.806C68.5957 27.454 68.905 27.1713 69.289 26.958C69.673 26.7447 70.057 26.638 70.441 26.638H71.433C72.2543 26.638 72.9103 26.8993 73.401 27.422C73.9023 27.9447 74.153 28.6327 74.153 29.486V34.75H72.313V29.534C72.313 29.15 72.2117 28.8407 72.009 28.606C71.817 28.3607 71.561 28.238 71.241 28.238H70.249C69.833 28.238 69.4597 28.398 69.129 28.718C68.7983 29.0273 68.585 29.4273 68.489 29.918V34.75H66.649V26.766ZM84.3629 34.878C83.6162 34.878 82.9549 34.718 82.3789 34.398C81.8029 34.0673 81.3549 33.6087 81.0349 33.022C80.7255 32.4247 80.5709 31.7367 80.5709 30.958V23.55H82.4429V30.926C82.4429 31.6193 82.6189 32.1793 82.9709 32.606C83.3229 33.022 83.7869 33.23 84.3629 33.23H86.0749C86.6615 33.23 87.1309 33.022 87.4829 32.606C87.8455 32.1793 88.0269 31.6193 88.0269 30.926V23.55H89.8989V30.958C89.8989 31.7367 89.7389 32.4247 89.4189 33.022C89.0989 33.6087 88.6509 34.0673 88.0749 34.398C87.4989 34.718 86.8322 34.878 86.0749 34.878H84.3629ZM94.5859 34.878C93.6685 34.878 92.9325 34.6327 92.3779 34.142C91.8232 33.6513 91.5459 33.0007 91.5459 32.19H93.3539C93.3539 32.5313 93.4659 32.8087 93.6899 33.022C93.9139 33.2247 94.2125 33.326 94.5859 33.326H96.0099C96.3725 33.326 96.6552 33.2673 96.8579 33.15C97.0712 33.022 97.1779 32.8513 97.1779 32.638V32.286C97.1779 32.1367 97.1139 32.0087 96.9859 31.902C96.8685 31.7953 96.7032 31.7207 96.4899 31.678L93.7219 31.198C93.1032 31.0913 92.6125 30.8673 92.2499 30.526C91.8872 30.174 91.7059 29.7687 91.7059 29.31V28.782C91.7059 28.1207 91.9672 27.598 92.4899 27.214C93.0232 26.83 93.7539 26.638 94.6819 26.638H95.9619C96.8045 26.638 97.4872 26.8673 98.0099 27.326C98.5325 27.7847 98.7939 28.3873 98.7939 29.134H96.9859C96.9859 28.846 96.8899 28.6167 96.6979 28.446C96.5165 28.2753 96.2712 28.19 95.9619 28.19H94.6979C94.3245 28.19 94.0365 28.2487 93.8339 28.366C93.6312 28.4833 93.5299 28.6487 93.5299 28.862V29.182C93.5299 29.3313 93.5885 29.4593 93.7059 29.566C93.8339 29.6727 93.9992 29.742 94.2019 29.774L97.0659 30.286C97.6525 30.4033 98.1219 30.6273 98.4739 30.958C98.8259 31.2887 99.0019 31.678 99.0019 32.126V32.718C99.0019 33.3793 98.7299 33.9073 98.1859 34.302C97.6419 34.686 96.9165 34.878 96.0099 34.878H94.5859Z"
                  fill="currentColor"
                  class="button-text"
                />
                <path
                  d="M79.4583 54.2628C72.1394 54.9732 67.5146 58.2786 60.899 55.9044C54.2834 53.5303 46.7226 54.2628 40.107 54.2628C29.7751 54.2628 33.0188 48.3625 24.2714 49.7314C19.3727 50.4981 18.5154 44.2893 14.5882 43.3414C13.1512 42.9946 4.39556 42.4851 3.71973 37.3854C2.77579 30.2627 -0.617468 28.4546 1.35702 24.0897C3.71984 18.8664 5.88774 18.0716 12.2268 14.5927C17.3048 11.8059 18.6115 7.42341 25.4581 6.04549C30.0281 5.12572 32.0737 6.04549 41.5233 2.24669C45.0668 0.822164 48.6128 4.19162 54.7559 2.72153C59.0088 1.70377 63.2617 1.77186 67.9872 2.72153C71.2341 3.37405 78.6972 0.241635 82.1636 0.822164C89.9771 2.13075 90.9213 3.64091 98.7027 3.62569C103.291 3.61671 105.591 4.20198 108.626 6.04549C111.214 7.61773 111.461 8.41972 116.187 9.36942C119.111 9.95703 126.006 10.1835 128.946 14.5927C132.111 19.3412 134.616 21.2406 135.561 21.7154C138.551 23.2177 138.675 23.9081 140.287 25.5142C140.964 26.1893 141.977 29.5587 141.704 31.6872C141.424 33.869 139.204 36.9106 137.451 38.81C135.311 41.1296 131.308 42.1339 127.528 43.5584C123.726 44.9913 121.527 48.095 119.022 49.0544C113.352 51.2267 113.488 50.0892 104.976 50.6811C100.051 51.0236 96.6784 53.3795 93.1622 54.2628C89.3818 55.2126 89.5208 53.2863 79.4583 54.2628Z"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  class="button-wave"
                />
              </svg>
            </a>
          </div>
        </div>

        <div class="absolute right-0 top-[117px] w-[314px] h-[600px]">
          <video
            ref="videoRefDesktop"
            src="/assets/video/Sun Magic.mp4"
            class="w-full h-full object-cover"
            loop
            muted
            playsinline
          ></video>
        </div>
      </div>
    </div>
  </section>
</template>

<script setup lang="ts">
const videoRefMobile = ref<HTMLVideoElement>();
const videoRefDesktop = ref<HTMLVideoElement>();

onMounted(() => {
  if (typeof IntersectionObserver === "undefined") {
    return;
  }

  const options = {
    threshold: 0.5,
  };

  const handleIntersection = (
    entries: IntersectionObserverEntry[],
    video: HTMLVideoElement | undefined,
  ) => {
    entries.forEach((entry) => {
      if (video) {
        if (entry.isIntersecting) {
          video.play();
        } else {
          video.pause();
        }
      }
    });
  };

  if (videoRefMobile.value) {
    const observerMobile = new IntersectionObserver(
      (entries) => handleIntersection(entries, videoRefMobile.value),
      options,
    );
    observerMobile.observe(videoRefMobile.value);
  }

  if (videoRefDesktop.value) {
    const observerDesktop = new IntersectionObserver(
      (entries) => handleIntersection(entries, videoRefDesktop.value),
      options,
    );
    observerDesktop.observe(videoRefDesktop.value);
  }
});
</script>
